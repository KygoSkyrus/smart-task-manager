(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{8871:function(e,t,a){"use strict";var s=a(7437),n=a(1801),l=a.n(n);a(2265);var r=a(7138),o=a(6463);t.Z=e=>{let{title:t,showIcon:a=!1}=e,n=(0,o.useRouter)();return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md cursor-pointer",onClick:()=>n.push("/"),children:(0,s.jsx)("svg",{className:"rotate-180",width:"24",height:"24",viewBox:"0 0 0.45 0.45",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M.249.069a.03.03 0 0 1 .042 0l.135.135a.03.03 0 0 1 0 .042L.291.381A.03.03 0 0 1 .249.339L.33.255H.045a.03.03 0 0 1 0-.06H.33L.249.111a.03.03 0 0 1 0-.042"})})}),(0,s.jsxs)("div",{className:"w-full p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md",children:[(0,s.jsx)(r.default,{href:"/",children:(0,s.jsx)("section",{className:"".concat(l().className," text-[30px] text-gray-800"),children:t})}),a&&(0,s.jsx)(r.default,{href:"/settings",children:(0,s.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 0.9 0.9",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",children:(0,s.jsx)("path",{d:"M.746.475a.04.04 0 0 1 0-.05L.794.371A.04.04 0 0 0 .798.327L.723.197a.04.04 0 0 0-.04-.018l-.07.014A.04.04 0 0 1 .57.168L.547.099A.04.04 0 0 0 .511.073h-.15a.04.04 0 0 0-.037.026L.303.168A.04.04 0 0 1 .26.193L.188.18a.04.04 0 0 0-.037.018L.075.327a.04.04 0 0 0 .004.044l.048.054a.04.04 0 0 1 0 .05L.079.529a.04.04 0 0 0-.004.044l.075.13a.04.04 0 0 0 .04.018L.26.707a.04.04 0 0 1 .043.025l.023.069a.04.04 0 0 0 .037.026h.15A.04.04 0 0 0 .549.801L.572.732A.04.04 0 0 1 .615.707l.07.014a.04.04 0 0 0 .04-.018L.8.573A.04.04 0 0 0 .796.529ZM.69.525l.03.034-.048.083L.628.633a.11.11 0 0 0-.129.075L.484.75H.388L.375.707A.11.11 0 0 0 .246.632L.202.641.153.558l.03-.034a.11.11 0 0 0 0-.15L.153.34.201.257l.044.009A.11.11 0 0 0 .374.191L.388.15h.096l.014.043a.11.11 0 0 0 .129.075L.671.259l.048.083-.03.034a.11.11 0 0 0 0 .149M.435.3a.15.15 0 1 0 .15.15.15.15 0 0 0-.15-.15m0 .225A.075.075 0 1 1 .51.45a.075.075 0 0 1-.075.075"})})})]})]})}},8278:function(e,t,a){"use strict";var s=a(7437),n=a(2265),l=a(6463),r=a(7818),o=a(8726),i=a(1444),d=a(9842),u=a(8407),c=a(6836);let p=(0,r.default)(()=>Promise.all([a.e(733),a.e(212),a.e(93)]).then(a.bind(a,8093)),{loadableGenerated:{webpack:()=>[8093]},ssr:!1});t.Z=e=>{let{existingTask:t}=e,[a,r]=(0,n.useState)((null==t?void 0:t.title)||""),[f,h]=(0,n.useState)((null==t?void 0:t.description)||""),[g,m]=(0,n.useState)((null==t?void 0:t.dueDate)||""),[x,b]=(0,n.useState)((null==t?void 0:t.priority)||"Low"),[y,w]=(0,n.useState)((null==t?void 0:t.location)||null),[v,j]=(0,n.useState)((null==t?void 0:t.completed)||!1),[k,L]=(0,n.useState)(!1),{id:N}=(0,l.useParams)(),A=(0,l.useRouter)(),_=(0,i.I0)();(0,n.useEffect)(()=>{(async()=>{if(!t&&N&&"string"==typeof N){L(!0);try{let e=(0,d.JU)(u.db,"tasks",N),t=await (0,d.QT)(e);if(t.exists()){let e=t.data();r(e.title),h(e.description),m(e.dueDate),b(e.priority),w(e.location)}else o.Am.error("Task not found."),A.push("/")}catch(e){console.error("Error fetching task:",e),o.Am.error("Failed to fetch task.")}finally{L(!1)}}})()},[N,t,A]);let T=async e=>{e.preventDefault();try{let e=Array.isArray(N)?N[0]:N,s={title:a,description:f,dueDate:g,priority:x,location:{lat:y.lat,lng:y.lng},completed:v},n={id:e,title:a,description:f,dueDate:g,priority:x,location:{lat:y.lat,lng:y.lng},completed:v};t||N?(n.id=(null==t?void 0:t.id)||N,_((0,c.eT)(n)),o.Am.success("Task updated successfully!!!")):(_((0,c.gI)(s)),o.Am.success("Task created successfully!!!")),r(""),h(""),m(""),b(""),w("")}catch(e){console.log(e)}};return k?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("section",{className:"",children:(0,s.jsx)("div",{className:"rounded-lg bg-white p-8 shadow-lg lg:col-span-3 lg:p-12",children:(0,s.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,s.jsxs)("label",{className:"relative block rounded-lg border border-gray-200 focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600",htmlFor:"title",children:[(0,s.jsx)("input",{value:a,onChange:e=>r(e.target.value),placeholder:"Title",className:"w-full peer p-3 border-none bg-transparent placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 text-sm",type:"text"}),(0,s.jsx)("span",{className:"pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-white p-0.5 text-xs text-gray-700 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-0 peer-focus:text-xs",children:"Title"})]}),(0,s.jsxs)("label",{className:"relative block rounded-lg border border-gray-200 focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600",htmlFor:"description",children:[(0,s.jsx)("textarea",{className:"w-full peer p-3 border-none bg-transparent placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 text-sm",value:f,onChange:e=>h(e.target.value),placeholder:"Description",rows:8}),(0,s.jsx)("span",{className:"pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-white p-0.5 text-xs text-gray-700 transition-all peer-placeholder-shown:top-[10%] peer-placeholder-shown:text-sm peer-focus:top-0 peer-focus:text-xs",children:"Description"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"relative block rounded-lg border border-gray-200 focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600",children:[(0,s.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"w-full p-3 bg-transparent rounded-lg focus:ring-0 text-sm",children:[(0,s.jsx)("option",{value:"Low",children:"Low"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"High",children:"High"})]}),(0,s.jsx)("span",{className:"pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-white p-0.5 text-xs text-gray-700 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-0 peer-focus:text-xs",children:"Priority"})]}),(0,s.jsxs)("label",{className:"relative block rounded-lg border border-gray-200 focus-within:border-blue-600 focus-within:ring-1 focus-within:ring-blue-600",htmlFor:"date",children:[(0,s.jsx)("input",{className:"w-full peer p-3 border-none bg-transparent placeholder-transparent focus:border-transparent focus:outline-none focus:ring-0 text-sm",type:"date",value:g,onChange:e=>m(e.target.value)}),(0,s.jsx)("span",{className:"pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-white p-0.5 text-xs text-gray-700 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-0 peer-focus:text-xs",children:"Date"})]})]}),(0,s.jsx)("div",{children:((null==y?void 0:y.lat)||!t||!N)&&(0,s.jsx)(p,{location:y,setLocation:w,isUserEventsDisabled:!1,style:{height:"400px",width:"100%"}})}),(0,s.jsxs)("button",{type:"submit",className:"group relative items-center justify-center overflow-hidden border border-current px-8 py-3  focus:outline-none focus:ring active:text-indigo-500 inline-block w-full rounded-lg bg-black font-medium text-white sm:w-auto",children:[(0,s.jsx)("span",{className:"absolute -end-full transition-all group-hover:end-4",children:(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 0.72 0.72",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",children:(0,s.jsx)("path",{fill:"#fff",d:"m.621.279-.18-.18-.01-.006L.42.09H.18a.09.09 0 0 0-.09.09v.36a.09.09 0 0 0 .09.09h.36A.09.09 0 0 0 .63.54V.3A.03.03 0 0 0 .621.279M.27.15h.12v.06H.27Zm.18.42H.27V.48A.03.03 0 0 1 .3.45h.12a.03.03 0 0 1 .03.03ZM.57.54a.03.03 0 0 1-.03.03H.51V.48A.09.09 0 0 0 .42.39H.3a.09.09 0 0 0-.09.09v.09H.18A.03.03 0 0 1 .15.54V.18A.03.03 0 0 1 .18.15h.03v.09a.03.03 0 0 0 .03.03h.18A.03.03 0 0 0 .45.24V.192l.12.12Z"})})}),(0,s.jsxs)("span",{className:"font-medium transition-all group-hover:me-4",children:[" ",t||N?"Update Task":"Add New Task"," "]})]})]})})})})}},8407:function(e,t,a){"use strict";a.d(t,{db:function(){return r}});var s=a(5236),n=a(9842);let l=(0,s.ZF)({apiKey:"AIzaSyAM8gF-So83UmCX7po4MnqjP1ZaJr2y0o8",authDomain:"task-manager-dg.firebaseapp.com",projectId:"task-manager-dg",storageBucket:"task-manager-dg.appspot.com",messagingSenderId:"261924715327",appId:"1:261924715327:web:d9946047b4c2a49cc6f18a",measurementId:"G-558T0Q1L78"}),r=(0,n.ad)(l)},7818:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var s=a(551),n=a.n(s)},551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let s=a(9920);a(7437),a(2265);let n=s._(a(148));function l(e,t){var a;let s={loading:e=>{let{error:t,isLoading:a,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,n.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=a(5592);function n(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return a}},148:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=a(7437),n=a(2265),l=a(912),r=a(1481);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},a=(0,n.lazy)(()=>t.loader().then(o)),d=t.loading;function u(e){let o=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(r.PreloadCss,{moduleIds:t.modules}):null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(n.Suspense,{fallback:o,children:i})}return u.displayName="LoadableComponent",u}},1481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let s=a(7437),n=a(8512);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,n.getExpectedRequestStore)("next/dynamic css"),l=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},6836:function(e,t,a){"use strict";a.d(t,{Np:function(){return f},QW:function(){return p},_5:function(){return d},eT:function(){return i},gI:function(){return o},rh:function(){return c}});var s=a(6862),n=a(9842),l=a(8407);let r=(0,s.hg)("tasks/fetchTasks",async()=>(await (0,n.PL)((0,n.hJ)(l.db,"tasks"))).docs.map(e=>({id:e.id,...e.data()}))),o=(0,s.hg)("tasks/addTask",async e=>{try{return{id:(await (0,n.ET)((0,n.hJ)(l.db,"tasks"),e)).id,...e}}catch(e){console.log("e",e);return}}),i=(0,s.hg)("tasks/editTask",async e=>{let t=(0,n.JU)(l.db,"tasks",e.id),a={title:e.title||"",description:e.description,dueDate:e.dueDate,priority:e.priority,"location.lat":e.location.lat,"location.lng":e.location.lng,completed:e.completed};return await (0,n.r7)(t,a),e}),d=(0,s.hg)("tasks/deleteTask",async e=>{let t=(0,n.JU)(l.db,"tasks",e);return await (0,n.oe)(t),e}),u=(0,s.oM)({name:"tasks",initialState:{tasks:[],loading:!1,error:null},reducers:{setTasks:(e,t)=>{e.tasks=t.payload,e.loading=!1},updateTaskStatus:(e,t)=>{let a=e.tasks.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.tasks[a]=t.payload)},appendTaskList:(e,t)=>{e.tasks.push(t.payload)}},extraReducers:e=>{e.addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.loading=!1,e.tasks=t.payload}).addCase(r.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch tasks"}).addCase(o.fulfilled,(e,t)=>{t.payload&&e.tasks.push(t.payload)}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to add task"}).addCase(i.fulfilled,(e,t)=>{let a=e.tasks.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.tasks[a]=t.payload)}).addCase(d.fulfilled,(e,t)=>{e.tasks=e.tasks.filter(e=>e.id!==t.payload)})}}),{setTasks:c,updateTaskStatus:p,appendTaskList:f}=u.actions;t.ZP=u.reducer},1801:function(e){e.exports={style:{fontFamily:"'__Anton_24f709', '__Anton_Fallback_24f709'",fontWeight:400,fontStyle:"normal"},className:"__className_24f709"}}}]);