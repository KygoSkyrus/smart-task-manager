(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4090:function(e,s,a){Promise.resolve().then(a.bind(a,5426))},5426:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return k}});var t=a(7437),i=a(1922),l=a.n(i),d=a(2265),r=a(1444),n=a(6463),o=a(7138),c=a(6836),h=a(7818),m=a(6648),x=a(7258);let u=(0,h.default)(()=>Promise.all([a.e(733),a.e(212),a.e(93)]).then(a.bind(a,8093)),{loadableGenerated:{webpack:()=>[8093]},ssr:!1});var p=e=>{var s;let{task:a}=e,i=(0,r.I0)(),l=(0,n.useRouter)(),d=e=>{e.stopPropagation(),i((0,c._5)(a.id))},h=e=>{e.stopPropagation(),l.push("/task/".concat(a.id,"/edit"))},p=e=>{e.stopPropagation();let s=!a.completed,t={...a};t.completed=s,i((0,c.QW)(t)),i((0,c.eT)(t))};return(0,t.jsxs)("div",{className:"block rounded-lg p-4 shadow-sm hover:shadow-md shadow-indigo-100 cursor-pointer",children:[(null===(s=a.location)||void 0===s?void 0:s.lat)?(0,t.jsx)(u,{location:a.location,isUserEventsDisabled:!0,style:{height:"224px",width:"100%",borderRadius:"8px"}}):(0,t.jsx)(m.default,{alt:"",width:100,height:100,src:"https://images.unsplash.com/photo-1488375634201-b85b28653a79?q=80&w=2029&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"h-56 w-full rounded-md object-cover",onClick:()=>l.push("/task/".concat(a.id)),unoptimized:!0}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(o.default,{href:"/task/".concat(a.id),className:"",children:[(0,t.jsx)("div",{children:(0,t.jsx)("dd",{className:"".concat((null==a?void 0:a.completed)?"text-green-400":"text-red-300"," uppercase text-xs font-semibold"),children:(null==a?void 0:a.completed)?"Completed":"In Progress"})}),(0,t.jsx)("section",{children:(0,t.jsx)("section",{className:"font-medium capitalize max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap",title:a.title,children:a.title})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("input",{type:"checkbox",checked:null==a?void 0:a.completed,onChange:e=>p(e),title:"Mark Completed",className:"size-4 rounded border-gray-300 cursor-pointer"})}),(0,t.jsx)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",onClick:e=>h(e),children:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 0.6 0.6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M.511.172C.469.186.414.13.428.089M.425.092l-.09.09a.3.3 0 0 0-.08.141L.251.34A.007.007 0 0 0 .26.349L.277.345a.3.3 0 0 0 .141-.08l.09-.09A.059.059 0 1 0 .425.092Z",stroke:"#363853","stroke-width":".038"}),(0,t.jsx)("path",{d:"M.3.075a.3.3 0 0 0-.076.009.19.19 0 0 0-.14.14.3.3 0 0 0 0 .152.19.19 0 0 0 .14.14q.076.018.152 0a.19.19 0 0 0 .14-.14A.3.3 0 0 0 .525.3",stroke:"#363853","stroke-width":".038","stroke-linecap":"round"})]})}),(0,t.jsx)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",onClick:e=>d(e),children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 0.375 0.375",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M.138.025a.013.013 0 0 0 0 .025h.1a.013.013 0 0 0 0-.025zM.075.088A.013.013 0 0 1 .088.075h.2a.013.013 0 0 1 0 .025H.275v.2A.025.025 0 0 1 .25.325H.125A.025.025 0 0 1 .1.3V.1H.087A.013.013 0 0 1 .074.087M.125.1H.25v.2H.125z",fill:"#000"})})})]})]}),(0,t.jsx)("div",{className:"mt-6 text-xs flex justify-between",children:(0,t.jsxs)(o.default,{href:"/task/".concat(a.id),className:"flex items-center gap-8 ",children:[(0,t.jsxs)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",children:[(0,t.jsx)("svg",{fill:"#000",width:"24px",height:"24px",className:"size-4 text-indigo-700",viewBox:"0 0 0.72 0.72",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M0.57 0.12h-0.06V0.09a0.03 0.03 0 0 0 -0.06 0v0.03H0.27V0.09a0.03 0.03 0 0 0 -0.06 0v0.03H0.15a0.09 0.09 0 0 0 -0.09 0.09v0.36a0.09 0.09 0 0 0 0.09 0.09h0.42a0.09 0.09 0 0 0 0.09 -0.09V0.21a0.09 0.09 0 0 0 -0.09 -0.09m0.03 0.45a0.03 0.03 0 0 1 -0.03 0.03H0.15a0.03 0.03 0 0 1 -0.03 -0.03v-0.21h0.48Zm0 -0.27H0.12V0.21a0.03 0.03 0 0 1 0.03 -0.03h0.06v0.03a0.03 0.03 0 0 0 0.06 0V0.18h0.18v0.03a0.03 0.03 0 0 0 0.06 0V0.18h0.06a0.03 0.03 0 0 1 0.03 0.03Z",fill:"rgb(67 56 202)"})}),(0,t.jsxs)("div",{className:"mt-1.5 sm:mt-0",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Due"}),(0,t.jsx)("p",{className:"font-medium",children:a.dueDate})]})]}),(0,t.jsxs)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M11.576 1.424a.6.6 0 0 1 .848 0l10.152 10.152a.6.6 0 0 1 0 .848L12.424 22.576a.6.6 0 0 1-.848 0L1.424 12.424a.6.6 0 0 1 0-.848zM12 8v4m0 4.01.01-.011","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",stroke:"rgb(67 56 202)"})}),(0,t.jsxs)("div",{className:"mt-1.5 sm:mt-0",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Priority"}),(0,t.jsx)("p",{className:"".concat((0,x._)(a.priority),"  font-medium"),children:a.priority})]})]})]})})]})]})},g=a(9842),f=a(8407),k=()=>{let e=(0,r.v9)(e=>e.tasks.tasks),[s,a]=(0,d.useState)(e),[i,h]=(0,d.useState)(""),m=(0,r.v9)(e=>e.tasks.loading),x=(0,r.I0)(),u=(0,n.useRouter)();(0,d.useEffect)(()=>{let e=(0,g.cf)((0,g.hJ)(f.db,"tasks"),e=>{let s=e.docs.map(e=>({id:e.id,...e.data()}));x((0,c.rh)(s))},e=>{console.error("Error fetching tasks: ",e)});return()=>e()},[x]),(0,d.useEffect)(()=>{a(e)},[e]);let k=s=>{a(e.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 m-2 flex flex-col sm:flex-row justify-between items-center shadow-sm shadow-indigo-100 rounded-md",children:[(0,t.jsx)(o.default,{href:"/",children:(0,t.jsx)("section",{className:"".concat(l().className," text-[30px] text-gray-800"),children:"Task Manager"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",id:"Search",value:i,onChange:e=>{h(e.target.value),k(e.target.value)},placeholder:"Search tasks...",className:"w-full min-w-[300px] rounded-md border-gray-200 ps-3 py-2.5 pe-10 shadow-sm sm:text-sm"}),(0,t.jsx)("span",{className:"absolute inset-y-0 end-0 grid w-10 place-content-center",children:(0,t.jsxs)("button",{type:"button",className:"text-gray-600 hover:text-gray-700",children:[(0,t.jsx)("span",{className:"sr-only",children:"Search"}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]})})]})]}),(0,t.jsxs)("div",{className:"sm:p-8 p-4 mb-8",children:[(0,t.jsx)("div",{className:"fixed bottom-4 sm:left-1/2 sm:translate-x-[-50%] rounded-md bg-gray-50 text-white p-2 shadow-lg z-[9999]",children:(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"sm:block",children:(0,t.jsxs)("nav",{className:"flex gap-6","aria-label":"Tabs",children:[(0,t.jsx)(o.default,{href:"/",className:"shrink-0 rounded-lg p-2 text-sm font-medium text-gray-500 hover:bg-gray-200 hover:text-gray-700",children:"Home"}),(0,t.jsx)(o.default,{href:"/dashboard",className:"shrink-0 rounded-lg p-2 text-sm font-medium text-gray-500 hover:bg-gray-200 hover:text-gray-700",children:"Dashboard"}),(0,t.jsx)(o.default,{href:"/settings",className:"shrink-0 rounded-lg bg-sky-100 p-2 text-sm font-medium text-sky-600","aria-current":"page",children:"Settings"})]})})})}),(0,t.jsx)("button",{onClick:()=>u.push("/task/add"),className:"fixed bottom-4 right-4 rounded-md bg-green-500 text-white p-2 shadow-md z-[9999]",children:(0,t.jsx)("svg",{width:"30px",height:"30px",viewBox:"0 0 0.563 0.563",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.3 0.103a0.019 0.019 0 0 0 -0.037 0V0.263H0.103a0.019 0.019 0 0 0 0 0.037H0.263v0.159a0.019 0.019 0 0 0 0.037 0V0.3h0.159a0.019 0.019 0 0 0 0 -0.037H0.3z",fill:"#ffffff"})})}),m?(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8",children:[(0,t.jsx)("div",{className:"h-64 rounded-lg bg-gray-200"}),(0,t.jsx)("div",{className:"h-64 rounded-lg bg-gray-200"}),(0,t.jsx)("div",{className:"h-64 rounded-lg bg-gray-200"})]}):0===s.length?(0,t.jsx)("p",{children:"No tasks available"}):(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8",children:s.map(e=>(0,t.jsx)(p,{task:e},e.id))})]})]})}},8407:function(e,s,a){"use strict";a.d(s,{db:function(){return d}});var t=a(5236),i=a(9842);let l=(0,t.ZF)({apiKey:"AIzaSyAM8gF-So83UmCX7po4MnqjP1ZaJr2y0o8",authDomain:"task-manager-dg.firebaseapp.com",projectId:"task-manager-dg",storageBucket:"task-manager-dg.appspot.com",messagingSenderId:"261924715327",appId:"1:261924715327:web:d9946047b4c2a49cc6f18a",measurementId:"G-558T0Q1L78"}),d=(0,i.ad)(l)},7258:function(e,s,a){"use strict";a.d(s,{_:function(){return t}});let t=e=>"Low"===e?"text-sky-400":"Medium"===e?"text-yellow-400":"High"===e?"text-red-400":void 0},6836:function(e,s,a){"use strict";a.d(s,{Np:function(){return x},QW:function(){return m},_5:function(){return o},eT:function(){return n},gI:function(){return r},rh:function(){return h}});var t=a(6862),i=a(9842),l=a(8407);let d=(0,t.hg)("tasks/fetchTasks",async()=>(await (0,i.PL)((0,i.hJ)(l.db,"tasks"))).docs.map(e=>({id:e.id,...e.data()}))),r=(0,t.hg)("tasks/addTask",async e=>{try{return{id:(await (0,i.ET)((0,i.hJ)(l.db,"tasks"),e)).id,...e}}catch(e){console.log("e",e);return}}),n=(0,t.hg)("tasks/editTask",async e=>{let s=(0,i.JU)(l.db,"tasks",e.id),a={title:e.title||"",description:e.description,dueDate:e.dueDate,priority:e.priority,"location.lat":e.location.lat,"location.lng":e.location.lng,completed:e.completed};return await (0,i.r7)(s,a),e}),o=(0,t.hg)("tasks/deleteTask",async e=>{let s=(0,i.JU)(l.db,"tasks",e);return await (0,i.oe)(s),e}),c=(0,t.oM)({name:"tasks",initialState:{tasks:[],loading:!1,error:null},reducers:{setTasks:(e,s)=>{e.tasks=s.payload,e.loading=!1},updateTaskStatus:(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)},appendTaskList:(e,s)=>{e.tasks.push(s.payload)}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,s)=>{e.loading=!1,e.tasks=s.payload}).addCase(d.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to fetch tasks"}).addCase(r.fulfilled,(e,s)=>{s.payload&&e.tasks.push(s.payload)}).addCase(r.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to add task"}).addCase(n.fulfilled,(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)}).addCase(o.fulfilled,(e,s)=>{e.tasks=e.tasks.filter(e=>e.id!==s.payload)})}}),{setTasks:h,updateTaskStatus:m,appendTaskList:x}=c.actions;s.ZP=c.reducer},1922:function(e){e.exports={style:{fontFamily:"'__Anton_24f709', '__Anton_Fallback_24f709'",fontWeight:400,fontStyle:"normal"},className:"__className_24f709"}}},function(e){e.O(0,[318,358,251,562,205,291,750,971,23,744],function(){return e(e.s=4090)}),_N_E=e.O()}]);