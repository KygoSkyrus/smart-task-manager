(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6814:function(e,s,a){Promise.resolve().then(a.bind(a,4591))},4591:function(e,s,a){"use strict";a.r(s);var t=a(7437),d=a(2265),i=a(1444),l=a(7138),n=a(5211),r=a(2737),o=a.n(r),c=a(7346),h=a(8871),u=a(6836),m=a(9842),x=a(8407);n.kL.register(n.qi,n.uw,n.f$,n.ZL,n.od,n.jn),s.default=()=>{let e=(0,i.I0)(),s=(0,i.v9)(e=>e.tasks.tasks),[a,n]=(0,d.useState)(0),[r,p]=(0,d.useState)(0),[g,f]=(0,d.useState)({Low:0,Medium:0,High:0}),[w,j]=(0,d.useState)([]),[k,v]=(0,d.useState)([]),[y,N]=(0,d.useState)([]);(0,d.useEffect)(()=>{let s=(0,m.cf)((0,m.hJ)(x.db,"tasks"),s=>{let a=s.docs.map(e=>({id:e.id,...e.data()}));e((0,u.rh)(a))},e=>{console.error("Error fetching tasks: ",e)});return()=>s()},[e]),(0,d.useEffect)(()=>{let e=null==s?void 0:s.filter(e=>e.completed).length,a=null==s?void 0:s.filter(e=>!e.completed).length,t=null==s?void 0:s.reduce((e,s)=>(e[s.priority]++,e),{Low:0,Medium:0,High:0}),d=new Date,i=s.filter(e=>new Date(e.dueDate)>d);n(e),p(a),f(t),v(i.sort((e,s)=>new Date(e.dueDate).getTime()-new Date(s.dueDate).getTime())),N(Array.from({length:7},(e,s)=>o()().subtract(s,"day").format("YYYY-MM-DD")).reverse()),j(y.map(e=>s.filter(s=>s.completed&&s.dueDate.startsWith(e)).length))},[s]);let b={labels:["Low","Medium","High"],datasets:[{label:"Task Priority",data:[g.Low,g.Medium,g.High],backgroundColor:["#36a2eb","#cc65fe","#ff6384"]}]};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{title:"Dashboard",showIcon:!0}),(0,t.jsx)("div",{className:"sm:p-8 p-4 mb-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 sm:gap-4 lg:grid-cols-3 lg:gap-8",children:[(0,t.jsxs)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg flex flex-col gap-2 p-3",children:[(0,t.jsx)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg p-2 px-4 flex justify-center items-center",children:(0,t.jsx)("section",{children:"Tasks Stats"})}),(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"Total Tasks"}),(0,t.jsx)("section",{children:(null==g?void 0:g.Low)+(null==g?void 0:g.Medium)+(null==g?void 0:g.High)})]}),(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"High Priority"}),(0,t.jsx)("section",{children:null==g?void 0:g.High})]}),(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"Medium Priority"}),(0,t.jsx)("section",{children:null==g?void 0:g.Medium})]}),(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"Low Priority"}),(0,t.jsx)("section",{children:null==g?void 0:g.Low})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-col gap-2 ",children:[(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"Pending"}),(0,t.jsx)("section",{children:r})]}),(0,t.jsxs)("div",{className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsx)("section",{children:"Completed"}),(0,t.jsx)("section",{children:a})]})]})]}),(0,t.jsx)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"chart",children:[(0,t.jsx)("h3",{className:"text-center",children:"Task Priority Distribution"}),(0,t.jsx)(c.$Q,{data:b})]})}),(0,t.jsx)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"chart",children:[(0,t.jsx)("h3",{className:"text-center",children:"Task Trends"}),(0,t.jsx)(c.x1,{data:{labels:y,datasets:[{label:"Tasks Completed",data:w,fill:!1,borderColor:"#4caf50",tension:.1}]}})]})}),(0,t.jsx)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"chart",children:[(0,t.jsx)("h3",{className:"text-center",children:"Task Status"}),(0,t.jsx)(c.by,{data:{labels:["Completed","Pending"],datasets:[{label:"Task Status",data:[a,r],backgroundColor:["#36a2eb","#ff6384"]}]}}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs",children:"PENDING"}),(0,t.jsx)("span",{className:"block w-[10px] h-[10px] pending"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs",children:"COMPLETED"}),(0,t.jsx)("span",{className:"block w-[10px] h-[10px] completed"})]})]})}),(0,t.jsxs)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg flex flex-col gap-2 p-3",children:[(0,t.jsx)("div",{className:"shadow-sm shadow-indigo-100 rounded-lg p-2 px-4 flex justify-center items-center",children:(0,t.jsx)("section",{children:"Upcoming Tasks"})}),k.map(e=>(0,t.jsxs)(l.default,{href:"/task/".concat(e.id),className:"shadow-sm hover:shadow-md shadow-indigo-100 rounded-lg p-2 px-4 flex justify-between items-center text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("section",{className:"block w-[10px] h-[10px] rounded-full  ".concat("High"===e.priority?"completed":"Medium"===e.priority?"medium":"pending")}),(0,t.jsx)("section",{children:e.title})]}),(0,t.jsx)("section",{children:new Date(e.dueDate).toLocaleDateString()})]},e.id))]})]})})]})}},8871:function(e,s,a){"use strict";var t=a(7437),d=a(1801),i=a.n(d);a(2265);var l=a(7138),n=a(6463);s.Z=e=>{let{title:s,showIcon:a=!1}=e,d=(0,n.useRouter)();return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md cursor-pointer",onClick:()=>d.push("/"),children:(0,t.jsx)("svg",{className:"rotate-180",width:"24",height:"24",viewBox:"0 0 0.45 0.45",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M.249.069a.03.03 0 0 1 .042 0l.135.135a.03.03 0 0 1 0 .042L.291.381A.03.03 0 0 1 .249.339L.33.255H.045a.03.03 0 0 1 0-.06H.33L.249.111a.03.03 0 0 1 0-.042"})})}),(0,t.jsxs)("div",{className:"w-full p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md",children:[(0,t.jsx)(l.default,{href:"/",children:(0,t.jsx)("section",{className:"".concat(i().className," text-[30px] text-gray-800"),children:s})}),a&&(0,t.jsx)(l.default,{href:"/settings",children:(0,t.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 0.9 0.9",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",children:(0,t.jsx)("path",{d:"M.746.475a.04.04 0 0 1 0-.05L.794.371A.04.04 0 0 0 .798.327L.723.197a.04.04 0 0 0-.04-.018l-.07.014A.04.04 0 0 1 .57.168L.547.099A.04.04 0 0 0 .511.073h-.15a.04.04 0 0 0-.037.026L.303.168A.04.04 0 0 1 .26.193L.188.18a.04.04 0 0 0-.037.018L.075.327a.04.04 0 0 0 .004.044l.048.054a.04.04 0 0 1 0 .05L.079.529a.04.04 0 0 0-.004.044l.075.13a.04.04 0 0 0 .04.018L.26.707a.04.04 0 0 1 .043.025l.023.069a.04.04 0 0 0 .037.026h.15A.04.04 0 0 0 .549.801L.572.732A.04.04 0 0 1 .615.707l.07.014a.04.04 0 0 0 .04-.018L.8.573A.04.04 0 0 0 .796.529ZM.69.525l.03.034-.048.083L.628.633a.11.11 0 0 0-.129.075L.484.75H.388L.375.707A.11.11 0 0 0 .246.632L.202.641.153.558l.03-.034a.11.11 0 0 0 0-.15L.153.34.201.257l.044.009A.11.11 0 0 0 .374.191L.388.15h.096l.014.043a.11.11 0 0 0 .129.075L.671.259l.048.083-.03.034a.11.11 0 0 0 0 .149M.435.3a.15.15 0 1 0 .15.15.15.15 0 0 0-.15-.15m0 .225A.075.075 0 1 1 .51.45a.075.075 0 0 1-.075.075"})})})]})]})}},8407:function(e,s,a){"use strict";a.d(s,{db:function(){return l}});var t=a(5236),d=a(9842);let i=(0,t.ZF)({apiKey:"AIzaSyAM8gF-So83UmCX7po4MnqjP1ZaJr2y0o8",authDomain:"task-manager-dg.firebaseapp.com",projectId:"task-manager-dg",storageBucket:"task-manager-dg.appspot.com",messagingSenderId:"261924715327",appId:"1:261924715327:web:d9946047b4c2a49cc6f18a",measurementId:"G-558T0Q1L78"}),l=(0,d.ad)(i)},6836:function(e,s,a){"use strict";a.d(s,{Np:function(){return m},QW:function(){return u},_5:function(){return o},eT:function(){return r},gI:function(){return n},rh:function(){return h}});var t=a(6862),d=a(9842),i=a(8407);let l=(0,t.hg)("tasks/fetchTasks",async()=>(await (0,d.PL)((0,d.hJ)(i.db,"tasks"))).docs.map(e=>({id:e.id,...e.data()}))),n=(0,t.hg)("tasks/addTask",async e=>{try{return{id:(await (0,d.ET)((0,d.hJ)(i.db,"tasks"),e)).id,...e}}catch(e){console.log("e",e);return}}),r=(0,t.hg)("tasks/editTask",async e=>{let s=(0,d.JU)(i.db,"tasks",e.id),a={title:e.title||"",description:e.description,dueDate:e.dueDate,priority:e.priority,"location.lat":e.location.lat,"location.lng":e.location.lng,completed:e.completed};return await (0,d.r7)(s,a),e}),o=(0,t.hg)("tasks/deleteTask",async e=>{let s=(0,d.JU)(i.db,"tasks",e);return await (0,d.oe)(s),e}),c=(0,t.oM)({name:"tasks",initialState:{tasks:[],loading:!1,error:null},reducers:{setTasks:(e,s)=>{e.tasks=s.payload,e.loading=!1},updateTaskStatus:(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)},appendTaskList:(e,s)=>{e.tasks.push(s.payload)}},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,s)=>{e.loading=!1,e.tasks=s.payload}).addCase(l.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to fetch tasks"}).addCase(n.fulfilled,(e,s)=>{s.payload&&e.tasks.push(s.payload)}).addCase(n.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to add task"}).addCase(r.fulfilled,(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)}).addCase(o.fulfilled,(e,s)=>{e.tasks=e.tasks.filter(e=>e.id!==s.payload)})}}),{setTasks:h,updateTaskStatus:u,appendTaskList:m}=c.actions;s.ZP=c.reducer}},function(e){e.O(0,[546,358,674,251,562,205,291,347,971,23,744],function(){return e(e.s=6814)}),_N_E=e.O()}]);