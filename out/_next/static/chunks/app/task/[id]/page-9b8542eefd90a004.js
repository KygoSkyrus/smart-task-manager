(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{2577:function(e,s,a){Promise.resolve().then(a.bind(a,2530))},8871:function(e,s,a){"use strict";var t=a(7437),i=a(1801),l=a.n(i);a(2265);var n=a(7138),d=a(6463);s.Z=e=>{let{title:s,showIcon:a=!1}=e,i=(0,d.useRouter)();return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md cursor-pointer",onClick:()=>i.push("/"),children:(0,t.jsx)("svg",{className:"rotate-180",width:"24",height:"24",viewBox:"0 0 0.45 0.45",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M.249.069a.03.03 0 0 1 .042 0l.135.135a.03.03 0 0 1 0 .042L.291.381A.03.03 0 0 1 .249.339L.33.255H.045a.03.03 0 0 1 0-.06H.33L.249.111a.03.03 0 0 1 0-.042"})})}),(0,t.jsxs)("div",{className:"w-full p-4 m-2 flex justify-between items-center shadow-sm shadow-indigo-100 rounded-md",children:[(0,t.jsx)(n.default,{href:"/",children:(0,t.jsx)("section",{className:"".concat(l().className," text-[30px] text-gray-800"),children:s})}),a&&(0,t.jsx)(n.default,{href:"/settings",children:(0,t.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 0.9 0.9",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",children:(0,t.jsx)("path",{d:"M.746.475a.04.04 0 0 1 0-.05L.794.371A.04.04 0 0 0 .798.327L.723.197a.04.04 0 0 0-.04-.018l-.07.014A.04.04 0 0 1 .57.168L.547.099A.04.04 0 0 0 .511.073h-.15a.04.04 0 0 0-.037.026L.303.168A.04.04 0 0 1 .26.193L.188.18a.04.04 0 0 0-.037.018L.075.327a.04.04 0 0 0 .004.044l.048.054a.04.04 0 0 1 0 .05L.079.529a.04.04 0 0 0-.004.044l.075.13a.04.04 0 0 0 .04.018L.26.707a.04.04 0 0 1 .043.025l.023.069a.04.04 0 0 0 .037.026h.15A.04.04 0 0 0 .549.801L.572.732A.04.04 0 0 1 .615.707l.07.014a.04.04 0 0 0 .04-.018L.8.573A.04.04 0 0 0 .796.529ZM.69.525l.03.034-.048.083L.628.633a.11.11 0 0 0-.129.075L.484.75H.388L.375.707A.11.11 0 0 0 .246.632L.202.641.153.558l.03-.034a.11.11 0 0 0 0-.15L.153.34.201.257l.044.009A.11.11 0 0 0 .374.191L.388.15h.096l.014.043a.11.11 0 0 0 .129.075L.671.259l.048.083-.03.034a.11.11 0 0 0 0 .149M.435.3a.15.15 0 1 0 .15.15.15.15 0 0 0-.15-.15m0 .225A.075.075 0 1 1 .51.45a.075.075 0 0 1-.075.075"})})})]})]})}},2530:function(e,s,a){"use strict";var t=a(7437),i=a(2265),l=a(6648),n=a(7818),d=a(6463),r=a(1444),o=a(8726),c=a(9842),h=a(8407),m=a(6836),u=a(7258),p=a(8871);let x=(0,n.default)(()=>Promise.all([a.e(733),a.e(212),a.e(93)]).then(a.bind(a,8093)),{loadableGenerated:{webpack:()=>[8093]},ssr:!1});s.default=e=>{var s;let{id:a}=e,n=(0,d.useRouter)(),f=(0,r.I0)(),[g,k]=(0,i.useState)(null),[w,j]=(0,i.useState)(!0),v=(0,r.v9)(e=>e.tasks.tasks.find(e=>e.id===a));(0,i.useEffect)(()=>{(async()=>{if(v)k(v),j(!1);else if(a)try{let e=(0,c.JU)(h.db,"tasks",a),s=await (0,c.QT)(e);if(s.exists()){k({id:s.id,...s.data()});let e=s.data(),a={id:s.id,title:e.title||"",description:e.description||"",dueDate:e.dueDate,priority:e.priority||"low",location:e.location,completed:e.completed};f((0,m.Np)(a))}else o.Am.error("Task not found."),n.push("/")}catch(e){console.error("Error fetching task:",e),o.Am.error("Failed to fetch task.")}finally{j(!1)}})()},[a,v,n]);let y=e=>{e.stopPropagation(),n.push("/task/".concat(g.id,"/edit"))},N=e=>{e.stopPropagation();try{f((0,m._5)(g.id)),o.Am.success("Task deleted successfully"),n.push("/")}catch(e){console.error("Error deleting task:",e),o.Am.error("Failed to delete task")}},b=async()=>{let e=!g.completed,s={...g};s.completed=e,f((0,m.QW)(s)),f((0,m.eT)(s))};return w?(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Loading task details..."})}):g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{title:"Task Details"}),(0,t.jsx)("div",{className:"sm:p-8 p-4 mb-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8",children:[(0,t.jsxs)("div",{className:"block rounded-lg lg:col-span-2 p-4 shadow-sm shadow-indigo-100 r",children:[(0,t.jsx)("div",{children:(0,t.jsx)("section",{className:"font-bold capitalize mb-3 underline",children:g.title})}),(null===(s=g.location)||void 0===s?void 0:s.lat)?(0,t.jsx)(x,{location:g.location,isUserEventsDisabled:!0,style:{height:"400px",width:"100%"}}):(0,t.jsx)(l.default,{alt:"",width:100,height:100,src:"https://images.unsplash.com/photo-1488375634201-b85b28653a79?q=80&w=2029&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"h-56 w-full rounded-md object-cover",onClick:()=>n.push("/task/".concat(g.id))}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("section",{className:"text-sm text-gray-500",children:"Description"}),(0,t.jsx)("section",{className:"mt-2",children:g.description})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-between rounded-lg p-4 shadow-sm shadow-indigo-100",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex flex-col items-end gap-8 ",children:[(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",children:[(0,t.jsx)("svg",{fill:"#000",width:"24px",height:"24px",className:"size-4 text-indigo-700",viewBox:"0 0 0.72 0.72",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M0.57 0.12h-0.06V0.09a0.03 0.03 0 0 0 -0.06 0v0.03H0.27V0.09a0.03 0.03 0 0 0 -0.06 0v0.03H0.15a0.09 0.09 0 0 0 -0.09 0.09v0.36a0.09 0.09 0 0 0 0.09 0.09h0.42a0.09 0.09 0 0 0 0.09 -0.09V0.21a0.09 0.09 0 0 0 -0.09 -0.09m0.03 0.45a0.03 0.03 0 0 1 -0.03 0.03H0.15a0.03 0.03 0 0 1 -0.03 -0.03v-0.21h0.48Zm0 -0.27H0.12V0.21a0.03 0.03 0 0 1 0.03 -0.03h0.06v0.03a0.03 0.03 0 0 0 0.06 0V0.18h0.18v0.03a0.03 0.03 0 0 0 0.06 0V0.18h0.06a0.03 0.03 0 0 1 0.03 0.03Z",fill:"rgb(67 56 202)"})}),(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Due"})]}),(0,t.jsx)("p",{className:"font-medium",children:g.dueDate})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",children:[(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M11.576 1.424a.6.6 0 0 1 .848 0l10.152 10.152a.6.6 0 0 1 0 .848L12.424 22.576a.6.6 0 0 1-.848 0L1.424 12.424a.6.6 0 0 1 0-.848zM12 8v4m0 4.01.01-.011","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",stroke:"rgb(67 56 202)"})}),(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Priority"})]}),(0,t.jsx)("p",{className:"".concat((0,u._)(g.priority)," font-medium"),children:g.priority})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end text-xs",children:[(0,t.jsx)("div",{className:"sm:inline-flex sm:shrink-0 sm:items-center sm:gap-2",children:(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Status"})}),(0,t.jsxs)("label",{htmlFor:"completed_toggle",className:"inline-flex items-center rounded-lg p-1 my-1 cursor-pointer dark:bg-gray-300 dark:text-gray-100 shadow-sm shadow-indigo-50",children:[(0,t.jsx)("input",{id:"completed_toggle",type:"checkbox",checked:null==g?void 0:g.completed,onChange:b,className:"hidden peer"}),(0,t.jsx)("span",{className:"rounded-full px-2 py-1 dark:bg-gray-400 peer-checked:dark:bg-gray-300",children:"In Progress"}),(0,t.jsx)("span",{className:"rounded-full px-2 py-1 dark:bg-gray-300 peer-checked:dark:bg-green-600",children:"Completed"})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("section",{className:"w-full group relative inline-flex items-center justify-center overflow-hidden rounded bg-indigo-600 px-8 py-3 text-white focus:outline-none focus:ring active:bg-indigo-500 cursor-pointer",onClick:e=>y(e),children:[(0,t.jsx)("span",{className:"absolute -end-full transition-all group-hover:end-4",children:(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 0.6 0.6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M.511.172C.469.186.414.13.428.089M.425.092l-.09.09a.3.3 0 0 0-.08.141L.251.34A.007.007 0 0 0 .26.349L.277.345a.3.3 0 0 0 .141-.08l.09-.09A.059.059 0 1 0 .425.092Z",stroke:"#fff","stroke-width":".038"}),(0,t.jsx)("path",{d:"M.3.075a.3.3 0 0 0-.076.009.19.19 0 0 0-.14.14.3.3 0 0 0 0 .152.19.19 0 0 0 .14.14q.076.018.152 0a.19.19 0 0 0 .14-.14A.3.3 0 0 0 .525.3",stroke:"#fff","stroke-width":".038","stroke-linecap":"round"})]})}),(0,t.jsxs)("span",{className:"text-sm font-medium transition-all group-hover:me-4",children:[" ","Update"," "]})]}),(0,t.jsxs)("section",{className:"w-full group relative inline-flex items-center justify-center overflow-hidden rounded border border-current px-8 py-3 text-red-600 focus:outline-none focus:ring active:text-indigo-500 cursor-pointer",onClick:e=>N(e),children:[(0,t.jsx)("span",{className:"absolute -end-full transition-all group-hover:end-4",children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 0.375 0.375",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M.138.025a.013.013 0 0 0 0 .025h.1a.013.013 0 0 0 0-.025zM.075.088A.013.013 0 0 1 .088.075h.2a.013.013 0 0 1 0 .025H.275v.2A.025.025 0 0 1 .25.325H.125A.025.025 0 0 1 .1.3V.1H.087A.013.013 0 0 1 .074.087M.125.1H.25v.2H.125z",fill:"#000"})})}),(0,t.jsxs)("span",{className:"text-sm font-medium transition-all group-hover:me-4",children:[" ","Delete"," "]})]})]})]})]})})]}):(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)("p",{className:"text-red-500",children:"Task not found"})})}},8407:function(e,s,a){"use strict";a.d(s,{db:function(){return n}});var t=a(5236),i=a(9842);let l=(0,t.ZF)({apiKey:"AIzaSyAM8gF-So83UmCX7po4MnqjP1ZaJr2y0o8",authDomain:"task-manager-dg.firebaseapp.com",projectId:"task-manager-dg",storageBucket:"task-manager-dg.appspot.com",messagingSenderId:"261924715327",appId:"1:261924715327:web:d9946047b4c2a49cc6f18a",measurementId:"G-558T0Q1L78"}),n=(0,i.ad)(l)},7258:function(e,s,a){"use strict";a.d(s,{_:function(){return t}});let t=e=>"Low"===e?"text-sky-400":"Medium"===e?"text-yellow-400":"High"===e?"text-red-400":void 0},6836:function(e,s,a){"use strict";a.d(s,{Np:function(){return u},QW:function(){return m},_5:function(){return o},eT:function(){return r},gI:function(){return d},rh:function(){return h}});var t=a(6862),i=a(9842),l=a(8407);let n=(0,t.hg)("tasks/fetchTasks",async()=>(await (0,i.PL)((0,i.hJ)(l.db,"tasks"))).docs.map(e=>({id:e.id,...e.data()}))),d=(0,t.hg)("tasks/addTask",async e=>{try{return{id:(await (0,i.ET)((0,i.hJ)(l.db,"tasks"),e)).id,...e}}catch(e){console.log("e",e);return}}),r=(0,t.hg)("tasks/editTask",async e=>{let s=(0,i.JU)(l.db,"tasks",e.id),a={title:e.title||"",description:e.description,dueDate:e.dueDate,priority:e.priority,"location.lat":e.location.lat,"location.lng":e.location.lng,completed:e.completed};return await (0,i.r7)(s,a),e}),o=(0,t.hg)("tasks/deleteTask",async e=>{let s=(0,i.JU)(l.db,"tasks",e);return await (0,i.oe)(s),e}),c=(0,t.oM)({name:"tasks",initialState:{tasks:[],loading:!1,error:null},reducers:{setTasks:(e,s)=>{e.tasks=s.payload,e.loading=!1},updateTaskStatus:(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)},appendTaskList:(e,s)=>{e.tasks.push(s.payload)}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,s)=>{e.loading=!1,e.tasks=s.payload}).addCase(n.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to fetch tasks"}).addCase(d.fulfilled,(e,s)=>{s.payload&&e.tasks.push(s.payload)}).addCase(d.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message||"Failed to add task"}).addCase(r.fulfilled,(e,s)=>{let a=e.tasks.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.tasks[a]=s.payload)}).addCase(o.fulfilled,(e,s)=>{e.tasks=e.tasks.filter(e=>e.id!==s.payload)})}}),{setTasks:h,updateTaskStatus:m,appendTaskList:u}=c.actions;s.ZP=c.reducer},1801:function(e){e.exports={style:{fontFamily:"'__Anton_24f709', '__Anton_Fallback_24f709'",fontWeight:400,fontStyle:"normal"},className:"__className_24f709"}}},function(e){e.O(0,[546,358,251,562,205,291,726,750,971,23,744],function(){return e(e.s=2577)}),_N_E=e.O()}]);